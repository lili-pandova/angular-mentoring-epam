<form [formGroup]="form">

    <mat-form-field>
        <mat-label for="title">Title</mat-label>
        <input type="text" name="title" matInput id="title" placeholder="Text input" formControlName="title" required
        [errorStateMatcher]="matcher" />
        <!-- <mat-error *ngIf="title.errors?.required">Title is <strong>required</strong></mat-error> -->
    </mat-form-field>

    <mat-form-field>
        <mat-label for="description">Description</mat-label>
        <textarea matInput name="description" id="description" placeholder="Add description"
            formControlName="description" required></textarea>
    </mat-form-field>

    <mat-form-field>
        <mat-label for="date">Date</mat-label>
        <input type="text" matInput name="date" id="date" placeholder="mm-dd-yyyy" formControlName="creationDate"
            required />
    </mat-form-field>

    <mat-form-field>
        <mat-label for="duration">Duration</mat-label>
        <input type="number" name="duration" matInput id="duration" #duration placeholder="minutes"
            formControlName="duration" required />
    </mat-form-field>

    <mat-form-field class="authors-suggestions">

        <mat-chip-list #chipList aria-label="Authors selection">
            <mat-chip
                *ngFor="let suggestion of suggestions"
                [selectable]="selectable"
                [removable]="removable"
                (removed)="remove(suggestion.name)">
                {{ suggestion.name }}
                <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
          </mat-chip>
          <input
                placeholder="Authors"
                #authors
                formControlName="authors"
                [matAutocomplete]="auto"
                [matChipInputFor]="chipList"
                [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                [matChipInputAddOnBlur]="addOnBlur"
                (matChipInputTokenEnd)="add($event)">
        </mat-chip-list>
        <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
            <mat-option *ngFor="let suggestion of suggestions | async" [value]="suggestion.name">
              {{ suggestion.name }}
            </mat-option>
          </mat-autocomplete>
        <!-- <mat-label for="authors">Authors</mat-label>
        <input type="text" matInput name="authors" id="authors" #authors placeholder="Authors" formControlName="authors"
            (keyup)="showSuggestions(authors.value)" [matAutocomplete]="auto" required />
        <mat-autocomplete #auto="matAutocomplete">
            <mat-option *ngFor="let suggestion of suggestions" [value]="suggestion.name">
                {{ suggestion.name }}
            </mat-option>
            </mat-autocomplete> -->
    </mat-form-field>

    <div class="footer">
        <button type="button" mat-button class="btn pale-grey" (click)="cancel()">Cancel</button>
        <button type="submit" mat-button class="btn sick-green" [disabled]="!form.valid">Save</button>
    </div>
</form>